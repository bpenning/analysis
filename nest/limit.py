#using LUX
import numpy as np
import matplotlib.pyplot as plt
import math
import ROOT as r
import pandas as pd
from array import array
 
r.gROOT.SetStyle('Plain')
r.gStyle.SetOptStat('000000')
r.gStyle.SetLegendBorderSize(0)


def format_histo(histo, color):
	histo.GetXaxis().SetTitle("S1")
	histo.GetYaxis().SetTitle("log(S2/S1)")
	histo.GetYaxis().SetTitleOffset(1.25)
histoNR = r.TH2F('NR','NR', 2000, 0., 700, 500, 0, 4 )
histoER = r.TH2F('ER','ER', 2000, 0., 700, 500, 0, 4 )
s1list=[]
s2list=[]
logs2s1=[]
#read_nest_files('testNR2.dat', histoNR)
#read_nest_files('testER2.dat', histoER)

bla='6.5 1.335346e-41; 7.0 2.335672e-43; 7.5 3.343834e-44; 8.0 9.677771e-45; 8.5 3.894148e-45; 9.0 1.925623e-45; 9.5 1.095583e-45; 10.0 6.895136e-46; 11.0 3.346542e-46; 12.0 1.956484e-46; 13.0 1.294695e-46; 14.0 9.339046e-47; 15.0 7.177418e-47; 16.0 5.783788e-47; 17.0 4.833735e-47; 18.0 4.156853e-47; 19.0 3.657336e-47; 20.0 3.279690e-47; 22.0 2.754525e-47; 24.0 2.419303e-47; 26.0 2.196669e-47; 28.0 2.044000e-47; 30.0 1.938532e-47; 32.0 1.865885e-47; 34.0 1.816584e-47; 36.0 1.785164e-47; 38.0 1.766620e-47; 40.0 1.757655e-47; 42.0 1.757510e-47; 44.0 1.763378e-47; 46.0 1.775072e-47; 48.0 1.790459e-47; 50.0 1.809306e-47; 55.0 1.869703e-47; 60.0 1.942193e-47; 65.0 2.024863e-47; 70.0 2.112366e-47; 75.0 2.205473e-47; 80.0 2.302511e-47; 85.0 2.402204e-47; 90.0 2.504033e-47; 95.0 2.607908e-47; 100.0 2.713186e-47; 110.0 2.927287e-47; 120.0 3.145727e-47; 130.0 3.366146e-47; 140.0 3.589247e-47; 150.0 3.814065e-47; 160.0 4.039646e-47; 170.0 4.266439e-47; 180.0 4.493673e-47; 190.0 4.721476e-47; 200.0 4.951443e-47; 220.0 5.411225e-47; 240.0 5.871360e-47; 260.0 6.333161e-47; 280.0 6.794990e-47; 300.0 7.257127e-47; 320.0 7.724174e-47; 340.0 8.186032e-47; 360.0 8.652615e-47; 380.0 9.115733e-47; 400.0 9.580441e-47; 420.0 1.004578e-46; 440.0 1.051068e-46; 460.0 1.097776e-46; 480.0 1.144513e-46; 500.0 1.191198e-46; 550.0 1.307293e-46; 600.0 1.424087e-46; 650.0 1.540902e-46; 700.0 1.657241e-46; 750.0 1.773743e-46; 800.0 1.890863e-46; 850.0 2.007353e-46; 900.0 2.123524e-46; 950.0 2.241133e-46; 1000.0 2.358054e-46; 1100.0 2.590506e-46; 1200.0 2.825353e-46; 1300.0 3.058700e-46; 1400.0 3.291985e-46; 1500.0 3.524777e-46; 1600.0 3.758977e-46; 1700.0 3.992663e-46; 1800.0 4.225874e-46; 1900.0 4.461430e-46; 2000.0 4.694609e-46; 2200.0 5.160135e-46; 2400.0 5.627582e-46; 2600.0 6.096117e-46; 2800.0 6.562259e-46; 3000.0 7.030034e-46; 3200.0 7.496387e-46; 3400.0 7.964856e-46; 3600.0 8.431743e-46; 3800.0 8.898025e-46; 4000.0 9.366368e-46; 4200.0 9.834540e-46; 4400.0 1.029957e-45; 4600.0 1.076972e-45; 4800.0 1.123551e-45; 5000.0 1.170352e-45; 5500.0 1.287153e-45; 6000.0 1.403869e-45; 6500.0 1.520802e-45; 7000.0 1.637327e-45; 7500.0 1.754181e-45; 8000.0 1.871388e-45; 8500.0 1.987999e-45; 9000.0 2.104898e-45; 9500.0 2.221746e-45; 10000.0 2.338672e-45'

result = [x.strip() for x in bla.split(';')]
elements = [x.split(' ') for x in result]


x,y = zip(*elements)

#x=[1,2,3]
#y=[1,0,1]
c1 = r.TCanvas( 'c1', 'c1', 800, 800)
c1.SetGrid()
xg, yg = array( 'd' ), array( 'd' )
print len(x)
for i in range(len(x)):
        print str(i)+' ' +str(x[i])+' '+str(y[i]) 
        xg.append(float(x[i]))
        yg.append(float(y[i]))
gr = r.TGraph(len(x), xg, yg )


gr.SetLineColor( 2 )
gr.SetLineWidth( 4 )
gr.SetMarkerColor( 4 )
gr.SetMarkerStyle( 22 )
gr.SetTitle('')
gr.GetXaxis().SetTitle( 'X title' )
gr.GetYaxis().SetTitle( 'Y title' )
c1.SetLogy()
c1.SetLogx()
gr.Draw( 'ACP' )
c1.Update()
c1.SaveAs('limit.png')


#plt.plot(x, y)
#plt.ylim([1E-47,1E-41])
#plt.xlim([1,10E4])
#plt.yscale('log')
#plt.xscale('log')
plt.show()

